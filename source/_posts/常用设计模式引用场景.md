---
title: 常用设计模式引用场景
date: 2018-04-05 19:23:23
tags:
	- 设计模式
---

### 0x01、单例模式

​      允许自由创建每个类没有实际意义，还有可能造成系统性能下降

​      优势：减少创建java实例带来的系统开销

​       便于系统跟踪某个实例的生命周期，实例状态等

<!--more-->

### 0x02、**工厂模式**：

​     工厂模式又分简单工厂模式，抽象工厂模式

​     使用简单工厂模式的优势是：让对象的调用者和对象创建过程分离，当对象调用者需要对象时，直接向工厂请求即可。从而避免了对象的调用者与对象的实现类以硬编码方式耦合，以提高系统的可维护性、可扩展性。工厂模式也有一个小小的缺陷：当产品修改时，工厂类也要做相应的修改。

   实际用例:，应该对Spring IoC容器感到迷惑：它到底是简单工厂？还是抽象工厂？实际上，笔者倾向于认为Spring IoC容器是抽象工厂，因为Sping IoC容器可以包括万象，它不仅可以管理普通Bean实例，也可管理工厂实例。

### 0x03、**代理模式**：

​     当客户端代码需要调用某个对象时，客户端实际上也不关心是否准确得到该对象，它只要一个能提供该功能的对象即可，此时我们就可返回该对象的代理（Proxy）。

​      实际用例：

看到此处，相信读者应该对Spring的AOP框架有点感觉了：当Spring容器中的被代理Bean实现了一个或多个接口时，Spring所创建的AOP代理就是这种动态代理。Spring AOP与此示例应用的区别在哪里呢？Spring AOP更灵活，当Sping定义InvocationHandler类的invoke()时，它并没有以硬编码方式决定调用哪些拦截器，而是通过配置文件来决定在invoke()方法中要调用哪些拦截器，这就实现了更彻底的解耦——当程序需要为目标对象扩展新功能时，根本无须改变Java代理，只需要在配置文件中增加更多的拦截器配置即可。

### 0x04、 **命令模式：**

​     某个方法需要完成某一个功能，完成这个功能的大部分步骤已经确定了，但可能有少量具体步骤无法确定，必须等到执行该方法时才可以确定。具体一点：假设有个方法需要遍历某个数组的数组元素，但无法确定在遍历数组元素时如何处理这些元素，需要在调用该方法时指定具体的处理行为.

  例子：HibernateCallback接口

### 0x05、**策略模式：**

​    封装系列的算法

​    应用实例:Hibernate的Dialect会有一点感觉了，这个Dialect类代表各数据库方言的抽象父类，但不同数据库的持久化访问可能存在一些差别，尤其在分页算法上存在较大的差异，Dialect不同子类就代表了一种特定的数据库访问策略。为了让客户端代码与具体的数据库、具体的Dialect实现类分离，Hibernate需要在hibernate.cfg.xml文件中指定应用所使用的Dialect子类。

与此类似的是，Spring的Resource接口也是一个典型的策略接口，不同的实现类代表了不同的资源访问策略。当然Spring可以非常“智能”地选择合适的Resource实现类，通常来说，Spring可以根据前缀来决定使用合适的Resource实现类；还可根据ApplicationContext的实现类来决定使用合适的Resource实现类。具体请参考本书8.3节介绍。

### 0x06、 **门面模式：**

​     着系统的不断改进和开发，它们会变得越来越复杂，系统会生成大量的类，这使得程序流程更难被理解。门面模式可为这些类提供一个简化的接口，从而简化访问这些类的复杂性，有时这种简化可能降低访问这些底层类的灵活性，但除了要求特别苛刻的客户端之外，它通常都可以提供所需的全部功能，当然，那些苛刻的用户仍然可以直接访问底层的类和方法。

​     实例：我们可以认为HibernateTemplate是SessionFactory、Session、Query等类的门面，当客户端程序需要进行持久化查询时，程序无须调用这些类，而是直接调用HibernateTemplate门面类的方法即可。

### 0x07、**桥接模式：**

​     由于实际的需要，某个类具有两个或两个以上的维度变化，如果只是使用继承将无法实现这种需要，或者使得设计变得相当臃肿。

​      实际应用Dao

### 0x08、 **观察者模式**

​    观察者模式定义了对象间的一对多依赖关系，让一个或多个观察者对象观察一个主题对象。当主题对象的状态发生变化时，系统能通知所有的依赖于此对象的观察者对象，从而使得观察者对象能够自动更新。

   实际用例：jms